# PART A: Understanding Regex
Regex is not only applied in Linux Bash scripting; it is also a very useful tool on other platforms, such as using JavaScript for web development (e.g. verifying user password registration with specific requirement).  

[![Watch the video](https://img.youtube.com/vi/sXQxhojSdZM/0.jpg)](https://www.youtube.com/watch?v=sXQxhojSdZM)

## Useful Tools
[regexr.com](https://regexr.com/)

<br>


# PART B: Regex Practice with `grep -E` on Linux - Easy
## I. Regex `easy`
Create a sample file `easy` for practice
<details>
    <summary>Sample File</summary>
  
  ```
  apple
  banana
  cherry
  apple pie
  pineapple
  1234
  5678
  apple123
  cherry-pie
  Banana
  ```
</details>


<details>
  <summary>Questions</summary>

  1. Find lines containing the word "apple".  

  2. Find lines ending with "pie".  

  3. Match lines starting with a digit.  

  4. Find lines containing only lowercase letters.  

  5. Match lines that have a hyphen (-).  

  6. Find lines containing numbers.  

  7. Match lines that contain "apple" but not "pineapple".  

  8. Match lines that have at least one uppercase letter.  

  9. Find lines with exactly five characters.  

  10. Match lines that contain "cherry" or "banana" (case-insensitive).  

</details>


## II. Regex `medium`
Create a sample file `medium` for practice
<details>
    <summary>Sample File</summary>
  
  ```
  apple
  banana
  cherry
  apple pie
  pineapple
  1234
  5678
  apple123
  cherry-pie
  Banana
  ififif
  if
  fi
  +-123.3
  +1111
  -2222
  56.38+-
  hello_world
  HELLO_WORLD
  CamelCase
  snake_case
  PascalCase
  123-456-7890
  (123) 456-7890
  john.doe@example.com
  jane_doe@example.co.uk
  http://example.com
  https://www.example.org
  ftp://files.example.com
  https://subdomain.example.co.uk
  25-12-2024
  31/12/2024
  2024-11-24
  24/11/2024
  error: file not found
  WARNING: Disk space low
  INFO: Operation completed
  $100.00
  USD 100.00
  €99.99
  Item#12345
  SKU-98765
  #hashtag
  @mention
  ```
</details>

<details>
  <summary>Questions</summary>

  1. Match lines containing floating-point numbers (e.g., `+-123.3`, `56.38`).

  2. Match lines with email addresses.

  3. Match URLs (e.g., `http://`, `https://`, `ftp://`).

  4. Match dates in `YYYY-MM-DD` format.

  5. Match dates in `DD/MM/YYYY` format.

  6. Match phone numbers (e.g., `123-456-7890`, `(123) 456-7890`).

  7. Match lines with snake_case or CamelCase words.

  8. Match lines containing currency values (e.g., `$100.00`, `€99.99`, `USD 100.00`).

  9. Match lines with uppercase letters only (e.g., `HELLO_WORLD`).

  10. Match lines with hashtags or mentions (e.g., `#hashtag`, `@mention`).

  11. Match lines containing warnings or errors (e.g., `WARNING`, `error`).

  12. Match product codes (e.g., `Item#12345`, `SKU-98765`).

</details>

## Notes
- Case-insensitive search: Add the `-i` flag to make searches case-insensitive.
- Count matches: Use `-c` to count the number of matching lines.
- Negate matches: Add the `-v` flag to exclude lines that match the pattern.
- Line numbers: Add the `-n` flag to display line numbers with matches.
- Inside a character set ([ ]), most special regex characters lose their special meaning and are treated as literals.
  For example:
    - `.` inside `[.]` matches a literal period, not "any character."
    - `*`, `+`, and `?` are treated as regular characters, not quantifiers.
    - `^` (when not at the beginning) and `-` (when escaped or at the end) are treated as literals.
    - `(\+|-)` vs `[+\-]`
    - `[-a-z]` matches - and any lowercase letter.
    - `[a-z-]` matches any lowercase letter and -.
    - `[a\-z]` matches a, -, and z explicitly.

### Character Classes in Regex
| **Class**  | **Matches**                                                   | **Shorthand**               |
|------------|---------------------------------------------------------------|-----------------------------|
| `alnum`    | Letters and digits                                            | `[a-zA-Z0-9]`               |
| `alpha`    | Letters only                                                  | `[a-zA-Z]`                  |
| `digit`    | Digits only                                                   | `[0-9]`                     |
| `upper`    | Uppercase letters only                                        | `[A-Z]`                     |
| `lower`    | Lowercase letters only                                        | `[a-z]`                     |
| `xdigit`   | Hexadecimal digits (`0-9`, `a-f`, `A-F`)                      | `[0-9a-fA-F]`               |
| `blank`    | Horizontal whitespace (space, tab)                            | `[ \t]`                     |
| `space`    | Whitespace (horizontal and vertical)                          | `\s`                        |

[Read the course notes for more details](http://15.223.64.81/doku.php?id=ops102:regular_expressions)


<br>

# PART C: Use Regux in Bash Scripts

In this exercise, we would like to write a script that asks the user to input a date in the format `DD/MM/YYYY`.
If the date is invalid, an error message will be echoed to the console.

### **Step 1: Build Test Cases**

- Create a file (`date`) with a mix of **valid**, **invalid**, and **edge case** dates.

    <details>
    <summary>Sample File</summary>
    
    ```plaintext
    # Valid dates
    01/01/1900
    28/02/2000
    29/02/2024
    31/12/1999
    30/11/2024
    01/03/2024
    15/06/2015
    29/02/2004
    31/07/2020
    01/01/2023
    
    # Invalid dates
    01/01/1899
    31/04/2023
    31/11/2024
    32/01/2024
    30/02/2024
    01/13/2024
    00/12/2023
    15/00/2023
    
    # Edge cases
    29/02/2023
    29/02/1900
    01/12/2024
    ```
    
    </details>



### **Step 2: Extract Valid Dates Using `grep -E`**

- Write a regex to validate dates based on years, months, and days, including leap years.


### **Step 3: Validate Against Test Cases**

- Are all **valid cases** correctly matched?  
- Are any **invalid cases** or **edge cases** falsely included?


### **Step 4: Refine Using `grep -Ev`**

- Use `grep -Ev` to explicitly exclude invalid edge cases (e.g., `29/02/1900`, all of `12/2024`).


### **Step 5: Iterate Using Trial and Error**

- Refine the regex until:
  - All valid dates are included.
  - No invalid dates or edge cases are mistakenly included.



